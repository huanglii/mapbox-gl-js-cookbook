import{_ as r,e as c,i as e,g as t,f as i,j as l,h as o,r as p,o as u}from"./app-DKmThjjR.js";const d={};function h(m,a){const n=p("common-code-view"),s=p("ClientOnly");return u(),c("div",null,[a[0]||(a[0]=e("h1",{id:"高亮",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#高亮"},[e("span",null,"高亮")])],-1)),a[1]||(a[1]=e("p",null,"Mapbox GL JS 中有两种方法可以实现要素高亮效果。",-1)),a[2]||(a[2]=e("h2",{id:"高亮图层",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#高亮图层"},[e("span",null,"高亮图层")])],-1)),a[3]||(a[3]=e("p",null,[l("第一种方法是额外添加一个高亮图层，数据源与原图层一致，默认通过设置 "),e("code",null,"filter"),l(" 不显示任何要素。在需要高亮的时候（如鼠标移入、点击某要素时）设置仅显示某要素。")],-1)),t(s,null,{default:o(()=>[t(n,{name:"starter-tutorials-highlight-1"})]),_:1}),a[4]||(a[4]=i('<h2 id="要素状态" tabindex="-1"><a class="header-anchor" href="#要素状态"><span>要素状态</span></a></h2><p>第二种方法，通过给要素<a href="https://docs.mapbox.com/mapbox-gl-js/api/map/#map#setfeaturestate" target="_blank" rel="noopener noreferrer">设置要素状态 (feature-state)</a>，再结合<a href="https://docs.mapbox.com/mapbox-gl-js/style-spec/expressions/#feature-state" target="_blank" rel="noopener noreferrer">表达式</a>给该要素设置不同的渲染效果（颜色、透明度和线条粗细等）。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><ul><li><code>map.setFeatureState</code> 方法只能用于有 <code>id</code> 属性的数据源。详见：<a href="https://docs.mapbox.com/mapbox-gl-js/api/map/#map#setfeaturestate" target="_blank" rel="noopener noreferrer">setFeatureState</a></li><li><a href="https://docs.mapbox.com/mapbox-gl-js/api/map/#map#setfeaturestate" target="_blank" rel="noopener noreferrer">要素状态 (feature-state)</a> 只能与支持数据驱动的绘制 (<code>paint</code>) 属性一起使用。</li></ul></div>',3)),t(s,null,{default:o(()=>[t(n,{name:"starter-tutorials-highlight-2"})]),_:1}),a[5]||(a[5]=i(`<blockquote><p>鼠标悬停效果：<a href="https://docs.mapbox.com/mapbox-gl-js/example/hover-styles/" target="_blank" rel="noopener noreferrer">Create a hover effect</a></p></blockquote><h2 id="布局属性" tabindex="-1"><a class="header-anchor" href="#布局属性"><span>布局属性</span></a></h2><p>前面提到要素状态只能用于绘制属性，对于符号 (<code>symbol</code>) 类型图层，图标、文本等都是布局 (<code>layout</code>) 属性，无法使用要素状态来实现高亮效果。这时可通过表达式设置高亮要素/正常要素的图标等布局属性，<strong>前提是数据有 <code>id</code> 或者唯一属性</strong>。</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code><span class="line">map<span class="token punctuation">.</span><span class="token function">setLayoutProperty</span><span class="token punctuation">(</span><span class="token string">&#39;city&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;icon-image&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;match&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token string">&#39;i-star-red&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;i-star-blue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,4)),t(s,null,{default:o(()=>[t(n,{name:"starter-tutorials-highlight-3"})]),_:1})])}const f=r(d,[["render",h],["__file","highlight.html.vue"]]),b=JSON.parse('{"path":"/starter/tutorials/highlight.html","title":"高亮","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"高亮图层","slug":"高亮图层","link":"#高亮图层","children":[]},{"level":2,"title":"要素状态","slug":"要素状态","link":"#要素状态","children":[]},{"level":2,"title":"布局属性","slug":"布局属性","link":"#布局属性","children":[]}],"git":{"updatedTime":1709629667000,"contributors":[{"name":"yangjiao","username":"yangjiao","email":"","commits":1,"url":"https://github.com/yangjiao"},{"name":"huanglii","username":"huanglii","email":"naivemap@163.com","commits":3,"url":"https://github.com/huanglii"}],"changelog":[{"hash":"2fd62586797a6e32364cd4485df302c8245dd724","time":1709629667000,"email":"naivemap@163.com","author":"huanglii","message":"Add an example of highlight"},{"hash":"adb3b0d6f713f54ef52c90b6adf302aa22dda8b6","time":1668834381000,"email":"naivemap@163.com","author":"huanglii","message":"update"},{"hash":"5481ad5ac1acacf20aafd910d887ae645f18c88d","time":1666690166000,"email":"naivemap@163.com","author":"huanglii","message":"update"},{"hash":"b0365759a0271660de0a93db271a73e4abeb5f76","time":1666688559000,"email":"","author":"yangjiao","message":"feat: highlight"}]},"filePathRelative":"starter/tutorials/highlight.md"}');export{f as comp,b as data};
