import{_ as o,r as p,o as r,c,a as s,b as n,d as e,e as t}from"./app-WXFCxs9o.js";const l={},i=s("h1",{id:"瓦片数据源",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#瓦片数据源","aria-hidden":"true"},"#"),n(" 瓦片数据源")],-1),u={href:"https://github.com/mapbox/tilejson-spec",target:"_blank",rel:"noopener noreferrer"},d=t(`<ol><li>直接在数据源中提供 TileJSON 属性，例如：<code>tiles</code>、<code>minzoom</code> 和 <code>maxzoom</code>：</li></ol><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">// 矢量瓦片数据源</span>
  <span class="token property">&quot;mapbox-streets&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vector&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;https://a.naivemap.com/tiles/{z}/{x}/{y}.pbf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;https://b.naivemap.com/tiles/{z}/{x}/{y}.pbf&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 栅格瓦片数据源</span>
  <span class="token property">&quot;tdt_vec_w&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;raster&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;http://t0.tianditu.com/DataServer?T=vec_w&amp;x={x}&amp;y={y}&amp;l={z}&amp;tk={天地图 key}&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;http://t1.tianditu.com/DataServer?T=vec_w&amp;x={x}&amp;y={y}&amp;l={z}&amp;tk={天地图 key}&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tileSize&quot;</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maxzoom&quot;</span><span class="token operator">:</span> <span class="token number">18</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>通过 <code>url</code> 指定 TileJSON 源：</li></ol><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;mapbox-streets&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vector&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://naivemap.com/tilejson.json&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),m={id:"vector",tabindex:"-1"},v=s("a",{class:"header-anchor",href:"#vector","aria-hidden":"true"},"#",-1),k={href:"https://docs.mapbox.com/mapbox-gl-js/style-spec/sources/#vector",target:"_blank",rel:"noopener noreferrer"},b={href:"https://docs.mapbox.com/vector-tiles/",target:"_blank",rel:"noopener noreferrer"},h=s("code",null,"vector",-1),_=s("code",null,"source-layer",-1),g={id:"raster",tabindex:"-1"},q=s("a",{class:"header-anchor",href:"#raster","aria-hidden":"true"},"#",-1),f={href:"https://docs.mapbox.com/mapbox-gl-js/style-spec/sources/#raster",target:"_blank",rel:"noopener noreferrer"},x=s("p",null,"栅格瓦片数据源。",-1),y={id:"raster-dem",tabindex:"-1"},E=s("a",{class:"header-anchor",href:"#raster-dem","aria-hidden":"true"},"#",-1),j={href:"https://docs.mapbox.com/mapbox-gl-js/style-spec/sources/#raster-dem",target:"_blank",rel:"noopener noreferrer"},S={href:"https://blog.mapbox.com/global-elevation-data-6689f1d0ba65",target:"_blank",rel:"noopener noreferrer"},T={href:"https://github.com/mapbox/rio-rgbify",target:"_blank",rel:"noopener noreferrer"},N=t(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># fill no data</span>
gdalwarp <span class="token parameter variable">-t_srs</span> EPSG:3857 <span class="token parameter variable">-dstnodata</span> None <span class="token parameter variable">-co</span> <span class="token assign-left variable">TILED</span><span class="token operator">=</span>YES <span class="token parameter variable">-co</span> <span class="token assign-left variable">COMPRESS</span><span class="token operator">=</span>DEFLATE <span class="token parameter variable">-co</span> <span class="token assign-left variable">BIGTIFF</span><span class="token operator">=</span>IF_NEEDED E:<span class="token punctuation">\\</span>test<span class="token punctuation">\\</span>chongqing.tif  E:<span class="token punctuation">\\</span>test<span class="token punctuation">\\</span>chongqing_without_nodata.tif

<span class="token comment"># conver to rgb</span>
rio rgbify <span class="token parameter variable">-b</span> <span class="token parameter variable">-10000</span> <span class="token parameter variable">-i</span> <span class="token number">0.1</span> E:<span class="token punctuation">\\</span>test<span class="token punctuation">\\</span>chongqing_without_nodata.tif E:<span class="token punctuation">\\</span>test<span class="token punctuation">\\</span>chongqing_rgb.tif
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function z(D,w){const a=p("ExternalLinkIcon");return r(),c("div",null,[i,s("p",null,[n("瓦片数据源（vector 和 raster）必须根据 "),s("a",u,[n("TileJSON"),e(a)]),n(" 规范指定其详细信息。有 2 种方式：")]),d,s("h2",m,[v,n(),s("a",k,[n("vector"),e(a)])]),s("p",null,[n("矢量瓦片数据源，瓦片必须是 "),s("a",b,[n("Mapbox Vector Tile"),e(a)]),n(" 格式。使用 "),h,n(" 数据源的图层必须指定 "),_,n(" 。")]),s("h2",g,[q,n(),s("a",f,[n("raster"),e(a)])]),x,s("h2",y,[E,n(),s("a",j,[n("raster-dem"),e(a)])]),s("p",null,[n("栅格 DEM 数据源，只支持 "),s("a",S,[n("Mapbox Terrain RGB"),e(a)]),n("，可使用 "),s("a",T,[n("rio-rgbify"),e(a)]),n(" 生成。")]),N])}const B=o(l,[["render",z],["__file","tile.html.vue"]]);export{B as default};
