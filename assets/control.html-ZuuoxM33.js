import{_ as i,r as o,o as r,c as u,a as n,b as s,d as a,w as l,e as t}from"./app-WXFCxs9o.js";const d={},k=n("h1",{id:"控件",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#控件","aria-hidden":"true"},"#"),s(" 控件")],-1),m=n("h2",{id:"定位",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#定位","aria-hidden":"true"},"#"),s(" 定位")],-1),v={href:"https://docs.mapbox.com/mapbox-gl-js/api/markers/#geolocatecontrol",target:"_blank",rel:"noopener noreferrer"},h={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Geolocation",target:"_blank",rel:"noopener noreferrer"},b=t(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">mapboxgl<span class="token punctuation">.</span>GeolocateControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="全屏" tabindex="-1"><a class="header-anchor" href="#全屏" aria-hidden="true">#</a> 全屏</h2>`,2),_={href:"https://docs.mapbox.com/mapbox-gl-js/api/markers/#fullscreencontrol",target:"_blank",rel:"noopener noreferrer"},g=t(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">mapboxgl<span class="token punctuation">.</span>FullscreenControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="导航" tabindex="-1"><a class="header-anchor" href="#导航" aria-hidden="true">#</a> 导航</h2>`,2),f={href:"https://docs.mapbox.com/mapbox-gl-js/api/markers/#navigationcontrol",target:"_blank",rel:"noopener noreferrer"},w=t(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">mapboxgl<span class="token punctuation">.</span>NavigationControl</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">visualizePitch</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="比例尺" tabindex="-1"><a class="header-anchor" href="#比例尺" aria-hidden="true">#</a> 比例尺</h2>`,2),x={href:"https://docs.mapbox.com/mapbox-gl-js/api/markers/#scalecontrol",target:"_blank",rel:"noopener noreferrer"},y=t(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">mapboxgl<span class="token punctuation">.</span>ScaleControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,1),C=t(`<h2 id="自定义" tabindex="-1"><a class="header-anchor" href="#自定义" aria-hidden="true">#</a> 自定义</h2><p>Mapbox GL JS 提供了 <strong><code>IControl</code></strong> 接口。自定义控件必须实现 <strong><code>onAdd</code></strong> 和 <strong><code>onRemove</code></strong> 方法，并且有一个 HTML 元素，通常为 <code>div</code> 元素。如果要使用 Mapbox GL JS 默认控件样式，需要给元素添加 <strong><code>mapboxgl-ctrl</code></strong> 样式。</p><h3 id="官方示例" tabindex="-1"><a class="header-anchor" href="#官方示例" aria-hidden="true">#</a> 官方示例</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// es6 类</span>
<span class="token keyword">class</span> <span class="token class-name">HelloWorldControl</span> <span class="token punctuation">{</span>
  <span class="token function">onAdd</span><span class="token punctuation">(</span><span class="token parameter">map</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_map <span class="token operator">=</span> map
    <span class="token keyword">this</span><span class="token punctuation">.</span>_container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_container<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&#39;mapboxgl-ctrl&#39;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_container<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&#39;Hello, world&#39;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_container
  <span class="token punctuation">}</span>

  <span class="token function">onRemove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_container<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_container<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_map <span class="token operator">=</span> <span class="token keyword">undefined</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// es5 原型类</span>
<span class="token keyword">function</span> <span class="token function">HelloWorldControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">HelloWorldControl</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">onAdd</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">map</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>_map <span class="token operator">=</span> map
  <span class="token keyword">this</span><span class="token punctuation">.</span>_container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>_container<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&#39;mapboxgl-ctrl&#39;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>_container<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&#39;Hello, world&#39;</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_container
<span class="token punctuation">}</span>

<span class="token class-name">HelloWorldControl</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">onRemove</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>_container<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_container<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>_map <span class="token operator">=</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="城市选择器" tabindex="-1"><a class="header-anchor" href="#城市选择器" aria-hidden="true">#</a> 城市选择器</h3>`,5),j={href:"https://github.com/huanglii/city-selector-control",target:"_blank",rel:"noopener noreferrer"};function N(H,G){const e=o("ExternalLinkIcon"),p=o("common-code-view"),c=o("ClientOnly");return r(),u("div",null,[k,m,n("p",null,[n("a",v,[s("GeolocateControl"),a(e)]),s(" 提供一个按钮，该按钮使用浏览器的 "),n("a",h,[s("Geolocation API"),a(e)]),s(" 在地图上定位用户。")]),b,n("p",null,[n("a",_,[s("FullscreenControl"),a(e)]),s(" 可以切换地图的全屏模式。")]),g,n("p",null,[n("a",f,[s("NavigationControl"),a(e)]),s(" 包含缩放和指南针。")]),w,n("p",null,[n("a",x,[s("ScaleControl"),a(e)]),s(" 显示地图上的距离与地面上相应距离的比率。")]),y,a(c,null,{default:l(()=>[a(p,{name:"starter-handlers-control","is-code-view":!1})]),_:1}),C,n("p",null,[s("一个快速定位城市的控件。GitHub 地址："),n("a",j,[s("城市选择器"),a(e)])]),a(c,null,{default:l(()=>[a(p,{name:"starter-handlers-city-selector","is-code-view":!1})]),_:1})])}const E=i(d,[["render",N],["__file","control.html.vue"]]);export{E as default};
