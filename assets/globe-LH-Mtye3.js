import{S as i,b as h}from"./base-map-XmSAiI59.js";import{g as d,o as u,h as m,_ as p}from"./app-WXFCxs9o.js";const n=class n{constructor(s,t){this.styles=s||n.DEFAULT_STYLES;const e=typeof t=="string"?t:t?t.defaultStyle:void 0;this.defaultStyle=e||n.DEFAULT_STYLE,this.onDocumentClick=this.onDocumentClick.bind(this),this.events=typeof t!="string"&&t?t.eventListeners:void 0}getDefaultPosition(){return"top-right"}onAdd(s){this.map=s,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("mapboxgl-ctrl"),this.controlContainer.classList.add("mapboxgl-ctrl-group"),this.mapStyleContainer=document.createElement("div"),this.styleButton=document.createElement("button"),this.styleButton.type="button",this.mapStyleContainer.classList.add("mapboxgl-style-list");for(const t of this.styles){const e=document.createElement("button");e.type="button",e.innerText=t.title,e.classList.add(t.title.replace(/[^a-z0-9-]/gi,"_")),e.dataset.uri=JSON.stringify(t.uri),e.addEventListener("click",o=>{const l=o.srcElement;if(this.closeModal(),l.classList.contains("active")||this.events&&this.events.onOpen&&this.events.onOpen(o))return;const r=JSON.parse(l.dataset.uri);this.map.setStyle(r);const c=this.mapStyleContainer.getElementsByClassName("active");for(;c[0];)c[0].classList.remove("active");l.classList.add("active"),this.events&&this.events.onChange&&this.events.onChange(o,r)}),t.title===this.defaultStyle&&e.classList.add("active"),this.mapStyleContainer.appendChild(e)}return this.styleButton.classList.add("mapboxgl-ctrl-icon"),this.styleButton.classList.add("mapboxgl-style-switcher"),this.styleButton.addEventListener("click",t=>{this.events&&this.events.onSelect&&this.events.onSelect(t)||this.openModal()}),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.styleButton),this.controlContainer.appendChild(this.mapStyleContainer),this.controlContainer}onRemove(){!this.controlContainer||!this.controlContainer.parentNode||!this.map||!this.styleButton||(this.styleButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),this.map=void 0)}closeModal(){this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="none",this.styleButton.style.display="block")}openModal(){this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="block",this.styleButton.style.display="none")}onDocumentClick(s){this.controlContainer&&!this.controlContainer.contains(s.target)&&this.closeModal()}};n.DEFAULT_STYLE="Streets",n.DEFAULT_STYLES=[{title:"Streets",uri:i.DEFAULT},{title:"Satellite",uri:i.SATELLITE},{title:"Dark",uri:i.DARK},{title:"Light",uri:i.GRAY},{title:"Outdoors",uri:i.OUTDOORS},{title:"Navigation",uri:i.NAVIGATION}];let a=n;const y=d({__name:"globe",setup(C){const s={zoom:2,projection:{name:"globe"}};function t(e){e.setFog({}),e.addControl(new a,"bottom-left")}return(e,o)=>(u(),m(h,{"map-options":s,onLoad:t}))}}),f=p(y,[["__file","globe.vue"]]);export{f as default};
