import{_ as c,c as u,a as t,b as n,d as l,e as a,f as e,r as p,o as m}from"./app-BF_9Ay7_.js";const d={},k={class:"hint-container tip"};function b(v,s){const o=p("common-code-view"),i=p("ClientOnly"),r=p("RouteLink");return m(),u("div",null,[s[4]||(s[4]=t(`<h1 id="快速开始" tabindex="-1"><a class="header-anchor" href="#快速开始"><span>快速开始</span></a></h1><p><a href="https://docs.mapbox.com/mapbox-gl-js/api/" target="_blank" rel="noopener noreferrer">Mapbox GL JS</a> 是一个 JavaScript 库，基于 <a href="https://docs.mapbox.com/help/glossary/vector-tiles/" target="_blank" rel="noopener noreferrer">vector tiles</a> 和 <a href="https://docs.mapbox.com/mapbox-gl-js/style-spec/" target="_blank" rel="noopener noreferrer">Mapbox styles</a>，使用 <code>WebGL</code> 渲染交互式地图。Mapbox GL JS 是 Mapbox GL 生态系统之一，其中还包括 <a href="https://www.mapbox.com/mobile/" target="_blank" rel="noopener noreferrer">Mapbox Mobile</a>，它是一个用 C++ 编写的兼容桌面和移动平台的渲染引擎。</p><ol><li>安装</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--save</span> mapbox-gl</span>
<span class="line"></span>
<span class="line"><span class="token comment"># v3.5.0 之后无需安装</span></span>
<span class="line"><span class="token comment"># npm install --save-dev @types/mapbox-gl</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p><a href="https://github.com/mapbox/mapbox-gl-js/releases/tag/v3.5.0" target="_blank" rel="noopener noreferrer">mapbox-gl@v3.5.0</a> 转为 TypeScript，不用再需安装 <code>@types/mapbox-gl</code>。</p></div><ol start="2"><li>添加 CSS 样式文件</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token string">&#39;mapbox-gl/dist/mapbox-gl.css&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li>初始化地图</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> mapboxgl <span class="token keyword">from</span> <span class="token string">&#39;mapbox-gl&#39;</span></span>
<span class="line"></span>
<span class="line">mapboxgl<span class="token punctuation">.</span>accessToken <span class="token operator">=</span> <span class="token string">&#39;&lt;your access token here&gt;&#39;</span></span>
<span class="line"><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mapboxgl<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">container</span><span class="token operator">:</span> <span class="token string">&#39;map&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 地图容器 id</span></span>
<span class="line">  <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token string">&#39;mapbox://styles/mapbox/streets-v11&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 样式</span></span>
<span class="line">  <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">104.294538</span><span class="token punctuation">,</span> <span class="token number">35.860092</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 地图初始中心点 [经度, 维度]</span></span>
<span class="line">  <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">2.4</span><span class="token punctuation">,</span> <span class="token comment">// 地图初始缩放级别</span></span>
<span class="line">  <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&#39;globe&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 地图投影，自 v2.9.0 起支持 &#39;globe&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9)),n(i,null,{default:l(()=>[n(o,{name:"starter-globe"})]),_:1}),s[5]||(s[5]=t(`<blockquote><p>示例：<a href="https://docs.mapbox.com/mapbox-gl-js/example/simple-map/" target="_blank" rel="noopener noreferrer">Display a globe on a webpage</a></p></blockquote><p>因为 Mapbox GL JS 中的图层是异步的。因此，通常使用<a href="https://docs.mapbox.com/mapbox-gl-js/api/map/#map-events" target="_blank" rel="noopener noreferrer">事件</a>绑定在合适的时间更改地图。例如：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;load&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;terrain-data&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;line&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;vector&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;mapbox://mapbox.mapbox-terrain-v2&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&#39;source-layer&#39;</span><span class="token operator">:</span> <span class="token string">&#39;contour&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此示例代码用于仅在加载地图的资源（包括样式）后添加图层。如果立即运行 <code>map.addLayer</code>，则会触发错误：<code>Error: Style is not done loading</code>，因为要添加图层的样式不存在。</p>`,4)),a("div",k,[s[3]||(s[3]=a("p",{class:"hint-container-title"},"提示",-1)),a("p",null,[s[1]||(s[1]=e("有关地图图层的渲染规范，请参考：")),n(r,{to:"/style-spec/"},{default:l(()=>s[0]||(s[0]=[e("样式规范")])),_:1}),s[2]||(s[2]=e("。"))])])])}const h=c(d,[["render",b],["__file","index.html.vue"]]),y=JSON.parse('{"path":"/starter/","title":"快速开始","lang":"zh-CN","frontmatter":{},"headers":[],"git":{"updatedTime":1720189011000,"contributors":[{"name":"huanglii","username":"huanglii","email":"naivemap@163.com","commits":2,"url":"https://github.com/huanglii"},{"name":"huanglii","username":"huanglii","email":"li.huangli@qq.com","commits":6,"url":"https://github.com/huanglii"},{"name":"huanglii","username":"huanglii","email":"849151701@qq.com","commits":8,"url":"https://github.com/huanglii"},{"name":"黄俐","username":"黄俐","email":"li.huangli@qq.com","commits":3,"url":"https://github.com/黄俐"},{"name":"huangli","username":"huangli","email":"849151701@qq.com","commits":5,"url":"https://github.com/huangli"}]},"filePathRelative":"starter/README.md"}');export{h as comp,y as data};
