import{_ as n,c as a,a as e,o as p}from"./app-Oi8ZZMZx.js";const t={};function i(l,s){return p(),a("div",null,s[0]||(s[0]=[e(`<h1 id="geoserver" tabindex="-1"><a class="header-anchor" href="#geoserver"><span>GeoServer</span></a></h1><p>以 <code>GeoServer</code> 为例，对常见地图服务标准简要说明以及在 <code>Mapbox GL JS</code> 中的使用。</p><h2 id="wmts" tabindex="-1"><a class="header-anchor" href="#wmts"><span>WMTS</span></a></h2><p>利用 <code>GetTile</code> 操作和指定输出格式即可在 Mapbox GL JS 中使用。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// 栅格瓦片 image/png</span></span>
<span class="line"><span class="token string-property property">&#39;source-id&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&#39;type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;raster&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&#39;tiles&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&#39;https://a.example.com/geoserver/gwc/service/wmts?REQUEST=GetTile&amp;SERVICE=WMTS&amp;VERSION=1.0.0&amp;LAYER=example:example&amp;STYLE=&amp;TILEMATRIX=EPSG:900913:{z}&amp;TILEMATRIXSET=EPSG:900913&amp;FORMAT=image/png&amp;TILECOL={x}&amp;TILEROW={y}&#39;</span></span>
<span class="line">    <span class="token comment">// 或 geoserver rest 服务</span></span>
<span class="line">    <span class="token comment">// &#39;https://a.example.com/geoserver/gwc/service/wmts/rest/example:example/EPSG:900913/EPSG:900913:{z}/{y}/{x}?format=image/png&#39;</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 矢量瓦片 application/vnd.mapbox-vector-tile</span></span>
<span class="line"><span class="token string-property property">&#39;source-id&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&#39;type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;vector&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&#39;tiles&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&#39;https://a.example.com/geoserver/gwc/service/wmts?REQUEST=GetTile&amp;SERVICE=WMTS&amp;VERSION=1.0.0&amp;LAYER=example:example&amp;STYLE=&amp;TILEMATRIX=EPSG:900913:{z}&amp;TILEMATRIXSET=EPSG:900913&amp;FORMAT=application/vnd.mapbox-vector-tile&amp;TILECOL={x}&amp;TILEROW={y}&#39;</span></span>
<span class="line">    <span class="token comment">// 或 geoserver rest 服务</span></span>
<span class="line">    <span class="token comment">// &#39;https://a.example.com/geoserver/gwc/service/wmts/rest/example:example/EPSG:900913/EPSG:900913:{z}/{y}/{x}?format=application/vnd.mapbox-vector-tile&#39;</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="tms" tabindex="-1"><a class="header-anchor" href="#tms"><span>TMS</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// 矢量</span></span>
<span class="line"><span class="token string-property property">&#39;source-id&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&#39;type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;vector&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&#39;tiles&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&#39;https://a.example.com/geoserver/gwc/service/tms/1.0.0/example:example@EPSG:900913@pbf/{z}/{x}/{y}.pbf&#39;</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line highlighted">  <span class="token string-property property">&#39;scheme&#39;</span><span class="token operator">:</span> <span class="token string">&#39;tms&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">// 栅格</span></span>
<span class="line"><span class="token string-property property">&#39;source-id&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&#39;type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;raster&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&#39;tiles&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&#39;https://a.example.com/geoserver/gwc/service/tms/1.0.0/example:example@EPSG:900913@png/{z}/{x}/{y}.png&#39;</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&#39;tileSize&#39;</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span></span>
<span class="line highlighted">  <span class="token string-property property">&#39;scheme&#39;</span><span class="token operator">:</span> <span class="token string">&#39;tms&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="wfs" tabindex="-1"><a class="header-anchor" href="#wfs"><span>WFS</span></a></h2><p>利用 <code>GetFeature</code> 操作和指定输出格式即可在 Mapbox GL JS 中使用。</p><p>加载示例（application/json 格式）：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token string-property property">&#39;source-id&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&#39;type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;geojson&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&#39;data&#39;</span><span class="token operator">:</span> <span class="token string">&#39;https://a.example.com/geoserver/buildings/ows?service=WFS&amp;version=2.0.0&amp;request=GetFeature&amp;typeName=buildings:cq_point&amp;outputFormat=application/json&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li>WFS 会请求全部数据，不适用于大量数据。但是支持空间查询和属性查询。</li><li>文档：<a href="https://docs.geoserver.org/latest/en/user/filter/index.html#filtering" target="_blank" rel="noopener noreferrer">GeoServer Filtering</a></li></ul></div><h2 id="wms" tabindex="-1"><a class="header-anchor" href="#wms"><span>WMS</span></a></h2><p>利用 <code>GetMap</code> 操作和指定地图边框范围（<code>bbox</code>）和输出格式（<code>format</code>）即可在 Mapbox GL JS 中使用。</p><p>加载示例（image/png 格式）：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token string-property property">&#39;source-id&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&#39;type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;raster&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&#39;tiles&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&#39;https://a.example.com/geoserver/ows?service=WMS&amp;version=1.3.0&amp;request=GetMap&amp;layers=china_admin:Chongqing&amp;bbox={bbox-epsg-3857}&amp;width=512&amp;height=512&amp;srs=EPSG:3857&amp;format=image/png&amp;TRANSPARENT=TRUE&#39;</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>注意 url 中的 <code>bbox</code> 参数值 <code>&quot;{bbox-epsg-3857}&quot;</code>。Mapbox GL JS 会自动计算地图范围替换该值，获取地图。</p></div>`,17)]))}const o=n(t,[["render",i],["__file","geoserver.html.vue"]]),c=JSON.parse('{"path":"/starter/service/geoserver.html","title":"GeoServer","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"WMTS","slug":"wmts","link":"#wmts","children":[]},{"level":2,"title":"TMS","slug":"tms","link":"#tms","children":[]},{"level":2,"title":"WFS","slug":"wfs","link":"#wfs","children":[]},{"level":2,"title":"WMS","slug":"wms","link":"#wms","children":[]}],"git":{"updatedTime":1704286926000,"contributors":[{"name":"huanglii","username":"huanglii","email":"naivemap@163.com","commits":2,"url":"https://github.com/huanglii"}]},"filePathRelative":"starter/service/geoserver.md"}');export{o as comp,c as data};
