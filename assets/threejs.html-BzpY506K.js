import{_ as l,e as i,i as n,g as e,f as r,h as p,r as s,o as c}from"./app-DKmThjjR.js";const u={};function d(h,a){const t=s("common-code-view"),o=s("ClientOnly");return c(),i("div",null,[a[0]||(a[0]=n("h1",{id:"threejs",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#threejs"},[n("span",null,"ThreeJS")])],-1)),a[1]||(a[1]=n("h2",{id:"_3d-文本标注",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_3d-文本标注"},[n("span",null,"3D 文本标注")])],-1)),a[2]||(a[2]=n("p",null,"Mapbox GL 默认文本标注图层不支持高度属性，这里使用 ThreeJS 来实现有高度的文本标注。",-1)),e(o,null,{default:p(()=>[e(t,{name:"threejs-text-3d"})]),_:1}),a[3]||(a[3]=r(`<p>该方法需要引入字体文件，ThreeJS 官方案例中提供了几种英文字体的 <code>json</code> 文件，如果想要显示中文，可以下载相关字体的 <code>ttf</code> 格式文件，在 <a href="https://gero3.github.io/facetype.js/" target="_blank" rel="noopener noreferrer">Facetype.js</a> 网站生成 <code>json</code> 文件，即可使用。</p><p>但是一个完整的中文字体文件会很大，可通过 Google 开源项目 <a href="https://github.com/googlefonts/sfntly" target="_blank" rel="noopener noreferrer">sfntly</a> 中的 <code>sfnttool</code> 工具提取指定的文字。</p><h4 id="字体提取步骤" tabindex="-1"><a class="header-anchor" href="#字体提取步骤"><span>字体提取步骤：</span></a></h4><ol><li>下载 <code>sfnttool</code> 工具（<a href="https://download.csdn.net/download/huangli0/12031450" target="_blank" rel="noopener noreferrer">直接下载</a> 或 从源码 <a href="https://github.com/googlefonts/sfntly" target="_blank" rel="noopener noreferrer">sfntly</a> 编译）</li><li>提取指定文字，输出 <code>ttf</code> 文件（需要 java 环境）</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">java</span> <span class="token parameter variable">-jar</span> sfnttool.jar <span class="token parameter variable">-s</span> <span class="token string">&#39;茶牛奶咖啡&#39;</span> 庞门正道标题体2.0增强版.ttf PangMenZhengDao_Regular.ttf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li>在 <a href="https://gero3.github.io/facetype.js/" target="_blank" rel="noopener noreferrer">Facetype.js</a> 网站生成 <code>json</code> 文件</li><li>使用</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> loader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>FontLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&#39;PangMenZhengDao_Regular.json&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">font</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> textBufferGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextBufferGeometry</span><span class="token punctuation">(</span><span class="token string">&#39;牛奶&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">    font<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7))])}const g=l(u,[["render",d],["__file","threejs.html.vue"]]),f=JSON.parse('{"path":"/advance/threejs.html","title":"ThreeJS","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"3D 文本标注","slug":"_3d-文本标注","link":"#_3d-文本标注","children":[]}],"git":{"updatedTime":1643002363000,"contributors":[{"name":"huangli","username":"huangli","email":"849151701@qq.com","commits":2,"url":"https://github.com/huangli"},{"name":"huanglii","username":"huanglii","email":"849151701@qq.com","commits":1,"url":"https://github.com/huanglii"},{"name":"huanglii","username":"huanglii","email":"li.huangli@qq.com","commits":1,"url":"https://github.com/huanglii"}],"changelog":[{"hash":"1aa43605ae5f94ec319495000ced95ef1b7f8b08","time":1643002363000,"email":"li.huangli@qq.com","author":"huanglii","message":"style: 代码风格"},{"hash":"8502e9cc8a6487e056097a725ea041e6a6e30c0e","time":1630159190000,"email":"849151701@qq.com","author":"huanglii","message":"update"},{"hash":"6407f2d6c5c4040527b579c0f5e23b8627672cd4","time":1576225311000,"email":"849151701@qq.com","author":"huangli","message":"update download url of sfnttool.jar"},{"hash":"32f00128f34147e9b785322248ee85257fe1e64a","time":1576219445000,"email":"849151701@qq.com","author":"huangli","message":"text3d"}]},"filePathRelative":"advance/threejs.md"}');export{g as comp,f as data};
