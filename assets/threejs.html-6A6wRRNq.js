import{_ as l,c as p,e as a,b as s,d as r,a as i,r as e,o as c}from"./app-CWWF2Y_U.js";const d={};function u(h,n){const t=e("common-code-view"),o=e("ClientOnly");return c(),p("div",null,[n[0]||(n[0]=a("h1",{id:"threejs",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#threejs"},[a("span",null,"ThreeJS")])],-1)),n[1]||(n[1]=a("h2",{id:"_3d-文本标注",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#_3d-文本标注"},[a("span",null,"3D 文本标注")])],-1)),n[2]||(n[2]=a("p",null,"Mapbox GL 默认文本标注图层不支持高度属性，这里使用 ThreeJS 来实现有高度的文本标注。",-1)),s(o,null,{default:r(()=>[s(t,{name:"threejs-text-3d"})]),_:1}),n[3]||(n[3]=i(`<p>该方法需要引入字体文件，ThreeJS 官方案例中提供了几种英文字体的 <code>json</code> 文件，如果想要显示中文，可以下载相关字体的 <code>ttf</code> 格式文件，在 <a href="https://gero3.github.io/facetype.js/" target="_blank" rel="noopener noreferrer">Facetype.js</a> 网站生成 <code>json</code> 文件，即可使用。</p><p>但是一个完整的中文字体文件会很大，可通过 Google 开源项目 <a href="https://github.com/googlefonts/sfntly" target="_blank" rel="noopener noreferrer">sfntly</a> 中的 <code>sfnttool</code> 工具提取指定的文字。</p><h4 id="字体提取步骤" tabindex="-1"><a class="header-anchor" href="#字体提取步骤"><span>字体提取步骤：</span></a></h4><ol><li>下载 <code>sfnttool</code> 工具（<a href="https://download.csdn.net/download/huangli0/12031450" target="_blank" rel="noopener noreferrer">直接下载</a> 或 从源码 <a href="https://github.com/googlefonts/sfntly" target="_blank" rel="noopener noreferrer">sfntly</a> 编译）</li><li>提取指定文字，输出 <code>ttf</code> 文件（需要 java 环境）</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">java</span> <span class="token parameter variable">-jar</span> sfnttool.jar <span class="token parameter variable">-s</span> <span class="token string">&#39;茶牛奶咖啡&#39;</span> 庞门正道标题体2.0增强版.ttf PangMenZhengDao_Regular.ttf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li>在 <a href="https://gero3.github.io/facetype.js/" target="_blank" rel="noopener noreferrer">Facetype.js</a> 网站生成 <code>json</code> 文件</li><li>使用</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> loader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>FontLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&#39;PangMenZhengDao_Regular.json&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">font</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> textBufferGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>TextBufferGeometry</span><span class="token punctuation">(</span><span class="token string">&#39;牛奶&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">    font<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7))])}const g=l(d,[["render",u],["__file","threejs.html.vue"]]),k=JSON.parse('{"path":"/advance/threejs.html","title":"ThreeJS","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"3D 文本标注","slug":"_3d-文本标注","link":"#_3d-文本标注","children":[]}],"git":{"updatedTime":1643002363000,"contributors":[{"name":"huanglii","username":"huanglii","email":"li.huangli@qq.com","commits":1,"url":"https://github.com/huanglii"},{"name":"huanglii","username":"huanglii","email":"849151701@qq.com","commits":1,"url":"https://github.com/huanglii"},{"name":"huangli","username":"huangli","email":"849151701@qq.com","commits":2,"url":"https://github.com/huangli"}]},"filePathRelative":"advance/threejs.md"}');export{g as comp,k as data};
