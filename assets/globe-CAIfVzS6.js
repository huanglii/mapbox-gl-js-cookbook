import{S as o,b as h}from"./base-map-CxlE6ySX.js";import{g as u,_ as m,o as p,h as y}from"./app-Oi8ZZMZx.js";const a=class a{constructor(s,t){this.styles=s||a.DEFAULT_STYLES;const e=typeof t=="string"?t:t?t.defaultStyle:void 0;this.defaultStyle=e||a.DEFAULT_STYLE,this.onDocumentClick=this.onDocumentClick.bind(this),this.events=typeof t!="string"&&t?t.eventListeners:void 0}getDefaultPosition(){return"top-right"}onAdd(s){this.map=s,this.controlContainer=document.createElement("div"),this.controlContainer.classList.add("mapboxgl-ctrl"),this.controlContainer.classList.add("mapboxgl-ctrl-group"),this.mapStyleContainer=document.createElement("div"),this.styleButton=document.createElement("button"),this.styleButton.type="button",this.mapStyleContainer.classList.add("mapboxgl-style-list");for(const t of this.styles){const e=document.createElement("button");e.type="button",e.innerText=t.title,e.classList.add(t.title.replace(/[^a-z0-9-]/gi,"_")),e.dataset.uri=JSON.stringify(t.uri),e.addEventListener("click",n=>{const i=n.srcElement;if(this.closeModal(),i.classList.contains("active")||this.events&&this.events.onOpen&&this.events.onOpen(n))return;const r=JSON.parse(i.dataset.uri);this.map.setStyle(r);const c=this.mapStyleContainer.getElementsByClassName("active");for(;c[0];)c[0].classList.remove("active");i.classList.add("active"),this.events&&this.events.onChange&&this.events.onChange(n,r)}),t.title===this.defaultStyle&&e.classList.add("active"),this.mapStyleContainer.appendChild(e)}return this.styleButton.classList.add("mapboxgl-ctrl-icon"),this.styleButton.classList.add("mapboxgl-style-switcher"),this.styleButton.addEventListener("click",t=>{this.events&&this.events.onSelect&&this.events.onSelect(t)||this.openModal()}),document.addEventListener("click",this.onDocumentClick),this.controlContainer.appendChild(this.styleButton),this.controlContainer.appendChild(this.mapStyleContainer),this.controlContainer}onRemove(){!this.controlContainer||!this.controlContainer.parentNode||!this.map||!this.styleButton||(this.styleButton.removeEventListener("click",this.onDocumentClick),this.controlContainer.parentNode.removeChild(this.controlContainer),document.removeEventListener("click",this.onDocumentClick),this.map=void 0)}closeModal(){this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="none",this.styleButton.style.display="block")}openModal(){this.mapStyleContainer&&this.styleButton&&(this.mapStyleContainer.style.display="block",this.styleButton.style.display="none")}onDocumentClick(s){this.controlContainer&&!this.controlContainer.contains(s.target)&&this.closeModal()}};a.DEFAULT_STYLE="Streets",a.DEFAULT_STYLES=[{title:"Streets",uri:o.DEFAULT},{title:"Satellite",uri:o.SATELLITE},{title:"Dark",uri:o.DARK},{title:"Light",uri:o.GRAY},{title:"Outdoors",uri:o.OUTDOORS},{title:"Navigation",uri:o.NAVIGATION}];let l=a;const f=u({__name:"globe",setup(d,{expose:s}){s();const t={zoom:2,projection:{name:"globe"}};function e(i){i.setFog({}),i.addControl(new l,"bottom-left")}const n={mapOptions:t,handleMapLoaded:e,BaseMap:h};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function C(d,s,t,e,n,i){return p(),y(e.BaseMap,{"map-options":e.mapOptions,onLoad:e.handleMapLoaded})}const S=m(f,[["render",C],["__file","globe.vue"]]);export{S as default};
